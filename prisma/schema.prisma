// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model empleado_catalogo_incidencias {
  Id          Int    @id @default(autoincrement())
  descripcion String

  Empleado_incidencias Empleado_incidencias[]
}

model Empleado_principal {
  id Int @id @default(autoincrement())
  nombre String
  departamento String
  sucursal_principal_id Int
  Jefe_Empleado_Principal_id Int?

  sucursal Sucursal_principal @relation(fields: [sucursal_principal_id], references: [id])
  jefe Empleado_principal? @relation("JefeRelation", fields: [Jefe_Empleado_Principal_id], references: [id])

  Empleado_principal Empleado_principal[] @relation("JefeRelation")
  Empleado_incidencias Empleado_incidencias[]
}

model Sucursal_principal {
  id        Int        @id @default(autoincrement())
  nombre    String

  Datos_Empleado Empleado_principal[]
}

model Empleado_incidencias {
  Id BigInt @id @default(autoincrement())
  fecha DateTime
  FechaInicio DateTime
  FechaFin DateTime?
  observaciones String
  Empleado_catatalogo_incidencias_id Int
  Empleado_principal_id Int

  tipoIncidencia empleado_catalogo_incidencias @relation(fields: [Empleado_catatalogo_incidencias_id], references: [Id])
  nombreEmpleado Empleado_principal @relation(fields: [Empleado_principal_id], references: [id])
}